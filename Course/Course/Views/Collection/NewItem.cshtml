@{
    ViewData["Title"] = SharedLocalizer["New item"];
}
@model ItemViewModel
<form method="post" asp-action="NewItem" asp-controller="Collection">
    <div class="mb-3">
        <input type="hidden" asp-for="CollectionId" value='@ViewContext.RouteData.Values["id"]' />

        <label class="form-label" asp-for="Name"></label>
        <input asp-for="Name" type="text" class="form-control formInput h2">
        <span asp-validation-for="Name" class="text-danger"></span>
        <h5 class="text-secondary">@Model.CollectionName - @Model.CollectionTheme - @SharedLocalizer["Item"] </h5>
    </div>
    <ul class="list-unstyled mb-3">
        @for (int i = 0; i < Model.ItemFieldNames.Count(); i++)
        {
            <li>
                <label class="form-label">@Model.ItemFieldNames[i]</label>
                <input type="text" class="form-control" asp-for="ItemFieldValues" value="" placeholder="@Model.ItemFieldNames[i]">
            </li>
        }
    </ul>
    <div class="mb-3">
        <label class="form-label">@SharedLocalizer["Tags"]</label>
        <button class="btn" type="button" id="newTagBtn"><i class="bi bi-bookmark-plus"></i></button>
        <ul id="tagUl" class="list-unstyled">
        </ul>
    </div>
    <button type="submit" class="btn btn-primary">@SharedLocalizer["Submit"]</button>
</form>
@section Scripts{
    <script>
        $(document).ready(function(){
            $('#newTagBtn').click(function () {
                let inputEl = $('<input type="text" class="form-control" name="tags" style="width:calc(100% - 46px);display:inline-block"/>');
                let deleteInputButtonEl = $(`<button type="button" class="btn me-1" onclick="$(this).parent().remove()"><i class="bi bi-x-circle-fill"></i></button>`);
                let liEl = $('<li class="mt-1"></li>');
                liEl.append(deleteInputButtonEl);
                liEl.append(inputEl);
                $('#tagUl').append(liEl);
            });
        });
    </script>
}